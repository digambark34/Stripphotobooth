{"ast":null,"code":"var _jsxFileName = \"D:\\\\Strip\\\\frontend\\\\src\\\\components\\\\CapturePage.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport '../styles/mobile.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CapturePage() {\n  _s();\n  var _settings$background3;\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [steps, setSteps] = useState(0);\n  const [countdown, setCountdown] = useState(null);\n  const [settings, setSettings] = useState({\n    eventName: '',\n    background: {\n      type: 'color',\n      value: '#ff0000'\n    },\n    logo: null\n  });\n  const [notification, setNotification] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [capturedPhotos, setCapturedPhotos] = useState([]); // Store captured photo data\n\n  // Fallback API URL if environment variable is not set\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\n\n  // Initialize canvas with background\n  const initializeCanvas = () => {\n    if (canvasRef.current) {\n      var _settings$background;\n      const ctx = canvasRef.current.getContext(\"2d\");\n      const width = 480;\n      const height = 720;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, width, height);\n\n      // Apply background color\n      const bgColor = ((_settings$background = settings.background) === null || _settings$background === void 0 ? void 0 : _settings$background.value) || '#ff0000';\n      ctx.fillStyle = bgColor;\n      ctx.fillRect(0, 0, width, height);\n    }\n  };\n\n  // Load settings from localStorage\n  useEffect(() => {\n    try {\n      const savedSettings = localStorage.getItem('photoBoothSettings');\n      if (savedSettings) {\n        const parsedSettings = JSON.parse(savedSettings);\n        setSettings(parsedSettings);\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n      // Reset to default settings if parsing fails\n      setSettings({\n        eventName: '',\n        background: {\n          type: 'color',\n          value: '#ff0000'\n        },\n        logo: null\n      });\n    }\n  }, []);\n\n  // Initialize canvas when settings change\n  useEffect(() => {\n    var _settings$background2;\n    if (canvasRef.current && (_settings$background2 = settings.background) !== null && _settings$background2 !== void 0 && _settings$background2.value) {\n      initializeCanvas();\n    }\n  }, [(_settings$background3 = settings.background) === null || _settings$background3 === void 0 ? void 0 : _settings$background3.value, initializeCanvas]);\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        width: {\n          ideal: 1280\n        },\n        height: {\n          ideal: 720\n        },\n        facingMode: 'user'\n      }\n    }).then(stream => {\n      if (videoRef.current) videoRef.current.srcObject = stream;\n    }).catch(error => {\n      console.warn(\"Camera access denied:\", error);\n      setNotification({\n        type: \"error\",\n        message: \"Camera access required. Please allow webcam access and refresh the page.\"\n      });\n    });\n\n    // Cleanup function to stop camera when component unmounts\n    return () => {\n      if (videoRef.current && videoRef.current.srcObject) {\n        const tracks = videoRef.current.srcObject.getTracks();\n        tracks.forEach(track => track.stop());\n      }\n    };\n  }, []);\n  const startCapture = () => {\n    if (steps >= 3) return;\n\n    // Start countdown from 3\n    setCountdown(3);\n\n    // Countdown sequence: 3 -> 2 -> 1 -> CAPTURE\n    setTimeout(() => setCountdown(2), 1000);\n    setTimeout(() => setCountdown(1), 2000);\n    setTimeout(() => {\n      setCountdown(\"📸\"); // Show camera icon briefly\n      setTimeout(() => {\n        takePhoto();\n        setCountdown(null);\n      }, 500); // Show camera icon for 0.5 seconds before capture\n    }, 3000);\n  };\n  const takePhoto = () => {\n    var _settings$background4;\n    const ctx = canvasRef.current.getContext(\"2d\");\n    const width = 480;\n    const photoHeight = 240;\n    const fullHeight = 720;\n\n    // First, ensure canvas has background\n    const bgColor = ((_settings$background4 = settings.background) === null || _settings$background4 === void 0 ? void 0 : _settings$background4.value) || '#ff0000';\n\n    // Clear entire canvas and apply background\n    ctx.clearRect(0, 0, width, fullHeight);\n    ctx.fillStyle = bgColor;\n    ctx.fillRect(0, 0, width, fullHeight);\n\n    // Redraw all previously captured photos\n    capturedPhotos.forEach((photoData, index) => {\n      const img = new Image();\n      img.onload = () => {\n        ctx.drawImage(img, 0, index * photoHeight, width, photoHeight);\n      };\n      img.src = photoData;\n    });\n\n    // Capture current photo from video\n    const tempCanvas = document.createElement('canvas');\n    tempCanvas.width = width;\n    tempCanvas.height = photoHeight;\n    const tempCtx = tempCanvas.getContext('2d');\n    tempCtx.drawImage(videoRef.current, 0, 0, width, photoHeight);\n\n    // Store the captured photo data\n    const photoData = tempCanvas.toDataURL();\n    setCapturedPhotos(prev => [...prev, photoData]);\n\n    // Draw current photo on main canvas\n    ctx.drawImage(videoRef.current, 0, steps * photoHeight, width, photoHeight);\n\n    // Optional logo overlay\n    if (settings.logo) {\n      const img = new Image();\n      img.src = settings.logo; // settings.logo is already a base64 string\n      img.onload = () => {\n        ctx.drawImage(img, 10, 10, 100, 50);\n      };\n    }\n\n    // Optional event name text on last step\n    if (steps === 2 && settings.eventName) {\n      ctx.fillStyle = \"#ffffff\";\n      ctx.font = \"24px sans-serif\";\n      ctx.fillText(settings.eventName, 10, 710);\n    }\n    setSteps(steps + 1);\n  };\n  const submit = async () => {\n    if (isSubmitting) return;\n    try {\n      setIsSubmitting(true);\n      setNotification(null);\n      const dataUrl = canvasRef.current.toDataURL(\"image/jpeg\", 0.8);\n      await axios.post(`${API_BASE_URL}/api/strips`, {\n        image: dataUrl,\n        eventName: settings.eventName,\n        background: settings.background,\n        logo: settings.logo\n      });\n      setNotification({\n        type: \"success\",\n        message: \"✅ Thank you! Your photo strip has been sent for print.\"\n      });\n      setSteps(0);\n      setCapturedPhotos([]); // Clear captured photos\n      initializeCanvas(); // Clear and reinitialize with background\n    } catch (error) {\n      console.warn(\"Upload failed:\", error);\n      setNotification({\n        type: \"error\",\n        message: \"❌ Failed to upload. Please check your connection and try again.\"\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Auto-hide notification after 5 seconds\n  useEffect(() => {\n    if (notification) {\n      const timer = setTimeout(() => {\n        setNotification(null);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [notification]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl animate-pulse delay-1000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse delay-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-6 right-6 z-50 p-4 rounded-2xl shadow-2xl backdrop-blur-lg border ${notification.type === 'success' ? 'bg-green-500/90 border-green-400/50' : 'bg-red-500/90 border-red-400/50'} text-white font-medium animate-slide-in`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg\",\n          children: notification.type === 'success' ? '✅' : '❌'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: notification.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setNotification(null),\n          className: \"ml-2 text-white/80 hover:text-white transition-colors\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 md:py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8 sm:mb-12 md:mb-16\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block p-6 bg-white/10 backdrop-blur-lg rounded-3xl border border-white/20 shadow-2xl mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-white mb-3 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent\",\n            children: \"\\uD83D\\uDCF8 Strip Photobooth\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-24 h-1 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-base sm:text-lg md:text-xl text-white/90 font-medium\",\n            children: \"Create amazing photo strips instantly!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md sm:max-w-lg md:max-w-xl mx-auto px-4 sm:px-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/5 backdrop-blur-xl rounded-3xl p-6 sm:p-8 border border-white/10 shadow-2xl relative overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center space-x-3 bg-white/10 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83D\\uDCF9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl sm:text-2xl font-bold text-white\",\n                children: \"Camera\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative group\",\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              autoPlay: true,\n              playsInline: true,\n              className: \"w-full aspect-video rounded-2xl shadow-2xl border-4 border-white/20 group-hover:border-white/30 transition-all duration-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent rounded-2xl pointer-events-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this), countdown && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm rounded-2xl\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-4xl sm:text-6xl md:text-7xl font-black text-white drop-shadow-2xl mb-2 ${countdown === \"📸\" ? \"animate-pulse text-6xl sm:text-8xl md:text-9xl\" : \"animate-bounce\"}`,\n                  children: countdown\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white/80 text-sm sm:text-base font-medium\",\n                  children: countdown === \"📸\" ? \"Capturing...\" : countdown === 1 ? \"Say Cheese!\" : \"Get ready!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex justify-center space-x-3\",\n              children: [1, 2, 3].map(step => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 transition-all duration-500 ${steps >= step ? 'bg-gradient-to-r from-green-400 to-emerald-400 border-green-300 shadow-lg shadow-green-400/50' : 'bg-white/10 border-white/30'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs font-medium transition-colors duration-300 ${steps >= step ? 'text-green-300' : 'text-white/50'}`,\n                  children: step\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)]\n              }, step, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startCapture,\n              disabled: steps >= 3,\n              className: `w-full py-4 sm:py-5 px-6 rounded-2xl font-bold text-lg sm:text-xl transition-all duration-300 transform relative overflow-hidden ${steps >= 3 ? 'bg-gradient-to-r from-gray-500 to-gray-600 cursor-not-allowed text-gray-200' : 'bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 hover:from-pink-600 hover:via-purple-600 hover:to-indigo-600 text-white shadow-2xl hover:shadow-pink-500/25 hover:scale-105 active:scale-95'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative z-10 flex items-center justify-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl\",\n                  children: steps >= 3 ? '✅' : '📸'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: steps >= 3 ? 'All Photos Captured!' : 'Capture Photo'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), steps < 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 pt-6 border-t border-gradient-to-r from-transparent via-white/20 to-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inline-block bg-white/10 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white/90 text-sm sm:text-base font-medium\",\n                  children: steps >= 3 ? '🎉 Ready to create your strip!' : `📷 ${3 - steps} more photo${3 - steps > 1 ? 's' : ''} needed`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this), settings.eventName && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-purple-300 text-xs sm:text-sm mt-2 font-medium\",\n                  children: [\"\\uD83C\\uDF8A \", settings.eventName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: submit,\n              disabled: steps < 3 || isSubmitting,\n              className: `w-full py-4 sm:py-5 px-6 rounded-2xl font-bold text-lg sm:text-xl transition-all duration-300 transform relative overflow-hidden ${steps >= 3 && !isSubmitting ? 'bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 text-white shadow-2xl hover:shadow-emerald-500/25 hover:scale-105 active:scale-95' : 'bg-gradient-to-r from-gray-600 to-gray-700 text-gray-400 cursor-not-allowed'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative z-10 flex items-center justify-center space-x-3\",\n                children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Creating Strip...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-2xl\",\n                    children: \"\\uD83D\\uDE80\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Submit Strip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), steps >= 3 && !isSubmitting && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: \"480\",\n          height: \"720\",\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n_s(CapturePage, \"fuVzZ2md0cAMJRDcKpHBLOLlKkk=\");\n_c = CapturePage;\nvar _c;\n$RefreshReg$(_c, \"CapturePage\");","map":{"version":3,"names":["useRef","useState","useEffect","useCallback","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CapturePage","_s","_settings$background3","videoRef","canvasRef","steps","setSteps","countdown","setCountdown","settings","setSettings","eventName","background","type","value","logo","notification","setNotification","isSubmitting","setIsSubmitting","capturedPhotos","setCapturedPhotos","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","initializeCanvas","current","_settings$background","ctx","getContext","width","height","clearRect","bgColor","fillStyle","fillRect","savedSettings","localStorage","getItem","parsedSettings","JSON","parse","error","console","_settings$background2","navigator","mediaDevices","getUserMedia","video","ideal","facingMode","then","stream","srcObject","catch","warn","message","tracks","getTracks","forEach","track","stop","startCapture","setTimeout","takePhoto","_settings$background4","photoHeight","fullHeight","photoData","index","img","Image","onload","drawImage","src","tempCanvas","document","createElement","tempCtx","toDataURL","prev","font","fillText","submit","dataUrl","post","image","timer","clearTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","autoPlay","playsInline","map","step","disabled","_c","$RefreshReg$"],"sources":["D:/Strip/frontend/src/components/CapturePage.js"],"sourcesContent":["import { useRef, useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport '../styles/mobile.css';\r\n\r\nexport default function CapturePage() {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const [steps, setSteps] = useState(0);\r\n  const [countdown, setCountdown] = useState(null);\r\n  const [settings, setSettings] = useState({\r\n    eventName: '',\r\n    background: { type: 'color', value: '#ff0000' },\r\n    logo: null\r\n  });\r\n  const [notification, setNotification] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [capturedPhotos, setCapturedPhotos] = useState([]); // Store captured photo data\r\n\r\n  // Fallback API URL if environment variable is not set\r\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\n\r\n\r\n\r\n  // Initialize canvas with background\r\n  const initializeCanvas = () => {\r\n    if (canvasRef.current) {\r\n      const ctx = canvasRef.current.getContext(\"2d\");\r\n      const width = 480;\r\n      const height = 720;\r\n\r\n      // Clear canvas\r\n      ctx.clearRect(0, 0, width, height);\r\n\r\n      // Apply background color\r\n      const bgColor = settings.background?.value || '#ff0000';\r\n      ctx.fillStyle = bgColor;\r\n      ctx.fillRect(0, 0, width, height);\r\n    }\r\n  };\r\n\r\n  // Load settings from localStorage\r\n  useEffect(() => {\r\n    try {\r\n      const savedSettings = localStorage.getItem('photoBoothSettings');\r\n      if (savedSettings) {\r\n        const parsedSettings = JSON.parse(savedSettings);\r\n        setSettings(parsedSettings);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading settings:', error);\r\n      // Reset to default settings if parsing fails\r\n      setSettings({\r\n        eventName: '',\r\n        background: { type: 'color', value: '#ff0000' },\r\n        logo: null\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Initialize canvas when settings change\r\n  useEffect(() => {\r\n    if (canvasRef.current && settings.background?.value) {\r\n      initializeCanvas();\r\n    }\r\n  }, [settings.background?.value, initializeCanvas]);\r\n\r\n  useEffect(() => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: {\r\n          width: { ideal: 1280 },\r\n          height: { ideal: 720 },\r\n          facingMode: 'user'\r\n        }\r\n      })\r\n      .then((stream) => {\r\n        if (videoRef.current) videoRef.current.srcObject = stream;\r\n      })\r\n      .catch((error) => {\r\n        console.warn(\"Camera access denied:\", error);\r\n        setNotification({\r\n          type: \"error\",\r\n          message: \"Camera access required. Please allow webcam access and refresh the page.\"\r\n        });\r\n      });\r\n\r\n    // Cleanup function to stop camera when component unmounts\r\n    return () => {\r\n      if (videoRef.current && videoRef.current.srcObject) {\r\n        const tracks = videoRef.current.srcObject.getTracks();\r\n        tracks.forEach(track => track.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const startCapture = () => {\r\n    if (steps >= 3) return;\r\n\r\n    // Start countdown from 3\r\n    setCountdown(3);\r\n\r\n    // Countdown sequence: 3 -> 2 -> 1 -> CAPTURE\r\n    setTimeout(() => setCountdown(2), 1000);\r\n    setTimeout(() => setCountdown(1), 2000);\r\n    setTimeout(() => {\r\n      setCountdown(\"📸\"); // Show camera icon briefly\r\n      setTimeout(() => {\r\n        takePhoto();\r\n        setCountdown(null);\r\n      }, 500); // Show camera icon for 0.5 seconds before capture\r\n    }, 3000);\r\n  };\r\n\r\n  const takePhoto = () => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    const width = 480;\r\n    const photoHeight = 240;\r\n    const fullHeight = 720;\r\n\r\n    // First, ensure canvas has background\r\n    const bgColor = settings.background?.value || '#ff0000';\r\n\r\n    // Clear entire canvas and apply background\r\n    ctx.clearRect(0, 0, width, fullHeight);\r\n    ctx.fillStyle = bgColor;\r\n    ctx.fillRect(0, 0, width, fullHeight);\r\n\r\n    // Redraw all previously captured photos\r\n    capturedPhotos.forEach((photoData, index) => {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 0, index * photoHeight, width, photoHeight);\r\n      };\r\n      img.src = photoData;\r\n    });\r\n\r\n    // Capture current photo from video\r\n    const tempCanvas = document.createElement('canvas');\r\n    tempCanvas.width = width;\r\n    tempCanvas.height = photoHeight;\r\n    const tempCtx = tempCanvas.getContext('2d');\r\n    tempCtx.drawImage(videoRef.current, 0, 0, width, photoHeight);\r\n\r\n    // Store the captured photo data\r\n    const photoData = tempCanvas.toDataURL();\r\n    setCapturedPhotos(prev => [...prev, photoData]);\r\n\r\n    // Draw current photo on main canvas\r\n    ctx.drawImage(videoRef.current, 0, steps * photoHeight, width, photoHeight);\r\n\r\n    // Optional logo overlay\r\n    if (settings.logo) {\r\n      const img = new Image();\r\n      img.src = settings.logo; // settings.logo is already a base64 string\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 10, 10, 100, 50);\r\n      };\r\n    }\r\n\r\n    // Optional event name text on last step\r\n    if (steps === 2 && settings.eventName) {\r\n      ctx.fillStyle = \"#ffffff\";\r\n      ctx.font = \"24px sans-serif\";\r\n      ctx.fillText(settings.eventName, 10, 710);\r\n    }\r\n\r\n    setSteps(steps + 1);\r\n  };\r\n\r\n  const submit = async () => {\r\n    if (isSubmitting) return;\r\n\r\n    try {\r\n      setIsSubmitting(true);\r\n      setNotification(null);\r\n\r\n      const dataUrl = canvasRef.current.toDataURL(\"image/jpeg\", 0.8);\r\n\r\n      await axios.post(`${API_BASE_URL}/api/strips`, {\r\n        image: dataUrl,\r\n        eventName: settings.eventName,\r\n        background: settings.background,\r\n        logo: settings.logo,\r\n      });\r\n\r\n      setNotification({\r\n        type: \"success\",\r\n        message: \"✅ Thank you! Your photo strip has been sent for print.\"\r\n      });\r\n\r\n      setSteps(0);\r\n      setCapturedPhotos([]); // Clear captured photos\r\n      initializeCanvas(); // Clear and reinitialize with background\r\n    } catch (error) {\r\n      console.warn(\"Upload failed:\", error);\r\n      setNotification({\r\n        type: \"error\",\r\n        message: \"❌ Failed to upload. Please check your connection and try again.\"\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Auto-hide notification after 5 seconds\r\n  useEffect(() => {\r\n    if (notification) {\r\n      const timer = setTimeout(() => {\r\n        setNotification(null);\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [notification]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 relative overflow-hidden\">\r\n      {/* Animated Background Elements */}\r\n      <div className=\"absolute inset-0 overflow-hidden\">\r\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"></div>\r\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\r\n        <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse delay-500\"></div>\r\n      </div>\r\n\r\n      {/* Notification */}\r\n      {notification && (\r\n        <div className={`fixed top-6 right-6 z-50 p-4 rounded-2xl shadow-2xl backdrop-blur-lg border ${\r\n          notification.type === 'success'\r\n            ? 'bg-green-500/90 border-green-400/50'\r\n            : 'bg-red-500/90 border-red-400/50'\r\n        } text-white font-medium animate-slide-in`}>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <span className=\"text-lg\">{notification.type === 'success' ? '✅' : '❌'}</span>\r\n            <span>{notification.message}</span>\r\n            <button\r\n              onClick={() => setNotification(null)}\r\n              className=\"ml-2 text-white/80 hover:text-white transition-colors\"\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 md:py-12\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8 sm:mb-12 md:mb-16\">\r\n          <div className=\"inline-block p-6 bg-white/10 backdrop-blur-lg rounded-3xl border border-white/20 shadow-2xl mb-6\">\r\n            <h1 className=\"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-white mb-3 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent\">\r\n              📸 Strip Photobooth\r\n            </h1>\r\n            <div className=\"w-24 h-1 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full mx-auto mb-4\"></div>\r\n            <p className=\"text-base sm:text-lg md:text-xl text-white/90 font-medium\">Create amazing photo strips instantly!</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced Camera Section */}\r\n        <div className=\"max-w-md sm:max-w-lg md:max-w-xl mx-auto px-4 sm:px-0\">\r\n          <div className=\"bg-white/5 backdrop-blur-xl rounded-3xl p-6 sm:p-8 border border-white/10 shadow-2xl relative overflow-hidden\">\r\n            {/* Decorative elements */}\r\n            <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400\"></div>\r\n\r\n            <div className=\"text-center mb-6\">\r\n              <div className=\"inline-flex items-center space-x-3 bg-white/10 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20\">\r\n                <span className=\"text-2xl\">📹</span>\r\n                <h3 className=\"text-xl sm:text-2xl font-bold text-white\">Camera</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"relative group\">\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                playsInline\r\n                className=\"w-full aspect-video rounded-2xl shadow-2xl border-4 border-white/20 group-hover:border-white/30 transition-all duration-300\"\r\n              />\r\n\r\n              {/* Overlay gradient */}\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent rounded-2xl pointer-events-none\"></div>\r\n\r\n              {countdown && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm rounded-2xl\">\r\n                  <div className=\"text-center\">\r\n                    <div className={`text-4xl sm:text-6xl md:text-7xl font-black text-white drop-shadow-2xl mb-2 ${\r\n                      countdown === \"📸\" ? \"animate-pulse text-6xl sm:text-8xl md:text-9xl\" : \"animate-bounce\"\r\n                    }`}>\r\n                      {countdown}\r\n                    </div>\r\n                    <div className=\"text-white/80 text-sm sm:text-base font-medium\">\r\n                      {countdown === \"📸\" ? \"Capturing...\" : countdown === 1 ? \"Say Cheese!\" : \"Get ready!\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Enhanced Progress indicator */}\r\n              <div className=\"mt-6 flex justify-center space-x-3\">\r\n                {[1, 2, 3].map((step) => (\r\n                  <div key={step} className=\"flex flex-col items-center space-y-2\">\r\n                    <div\r\n                      className={`w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 transition-all duration-500 ${\r\n                        steps >= step\r\n                          ? 'bg-gradient-to-r from-green-400 to-emerald-400 border-green-300 shadow-lg shadow-green-400/50'\r\n                          : 'bg-white/10 border-white/30'\r\n                      }`}\r\n                    />\r\n                    <span className={`text-xs font-medium transition-colors duration-300 ${\r\n                      steps >= step ? 'text-green-300' : 'text-white/50'\r\n                    }`}>\r\n                      {step}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Enhanced Capture Button */}\r\n            <div className=\"mt-8\">\r\n              <button\r\n                onClick={startCapture}\r\n                disabled={steps >= 3}\r\n                className={`w-full py-4 sm:py-5 px-6 rounded-2xl font-bold text-lg sm:text-xl transition-all duration-300 transform relative overflow-hidden ${\r\n                  steps >= 3\r\n                    ? 'bg-gradient-to-r from-gray-500 to-gray-600 cursor-not-allowed text-gray-200'\r\n                    : 'bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 hover:from-pink-600 hover:via-purple-600 hover:to-indigo-600 text-white shadow-2xl hover:shadow-pink-500/25 hover:scale-105 active:scale-95'\r\n                }`}\r\n              >\r\n                <div className=\"relative z-10 flex items-center justify-center space-x-3\">\r\n                  <span className=\"text-2xl\">{steps >= 3 ? '✅' : '📸'}</span>\r\n                  <span>{steps >= 3 ? 'All Photos Captured!' : 'Capture Photo'}</span>\r\n                </div>\r\n                {steps < 3 && (\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"></div>\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Enhanced Submit Section */}\r\n            <div className=\"mt-8 pt-6 border-t border-gradient-to-r from-transparent via-white/20 to-transparent\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"inline-block bg-white/10 backdrop-blur-lg rounded-2xl px-6 py-3 border border-white/20\">\r\n                  <p className=\"text-white/90 text-sm sm:text-base font-medium\">\r\n                    {steps >= 3 ? '🎉 Ready to create your strip!' : `📷 ${3 - steps} more photo${3 - steps > 1 ? 's' : ''} needed`}\r\n                  </p>\r\n                  {settings.eventName && (\r\n                    <p className=\"text-purple-300 text-xs sm:text-sm mt-2 font-medium\">🎊 {settings.eventName}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Enhanced Submit Button */}\r\n              <button\r\n                onClick={submit}\r\n                disabled={steps < 3 || isSubmitting}\r\n                className={`w-full py-4 sm:py-5 px-6 rounded-2xl font-bold text-lg sm:text-xl transition-all duration-300 transform relative overflow-hidden ${\r\n                  steps >= 3 && !isSubmitting\r\n                    ? 'bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 text-white shadow-2xl hover:shadow-emerald-500/25 hover:scale-105 active:scale-95'\r\n                    : 'bg-gradient-to-r from-gray-600 to-gray-700 text-gray-400 cursor-not-allowed'\r\n                }`}\r\n              >\r\n                <div className=\"relative z-10 flex items-center justify-center space-x-3\">\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n                      <span>Creating Strip...</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <span className=\"text-2xl\">🚀</span>\r\n                      <span>Submit Strip</span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n                {steps >= 3 && !isSubmitting && (\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"></div>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Preview Canvas (hidden) */}\r\n          <canvas\r\n            ref={canvasRef}\r\n            width=\"480\"\r\n            height=\"720\"\r\n            className=\"hidden\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}